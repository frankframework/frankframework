<module>

	<adapter name="ForwardNameSelectable" >
		<receiver>
			<listener className="nl.nn.adapterframework.receivers.JavaListener" serviceName="ibis4test-ForwardNameSelectable" />
		</receiver>
		<pipeline>
			<SenderPipe name="Call ForwardNameSelectable Child Adapter">
				<IbisLocalSender javaListener="ibis4test-ForwardNameSelectable-Child"/>
				<forward name="Exit1" path="fwd1" />
				<forward name="Exit2" path="fwd2" />
				<forward name="Exit3" path="fwd3" />
				<forward name="200" path="fwd200" />
				<forward name="400" path="fwd400" />
			</SenderPipe>
			
			<FixedResultPipe name="default" returnString="default: [result]" replaceFixedParams="true" >
				<param name="result" />
				<forward name="success" path="READY" /> 
			</FixedResultPipe>
			<FixedResultPipe name="fwd1" returnString="fwd1: [result]" replaceFixedParams="true" >
				<param name="result" />
				<forward name="success" path="READY" /> 
			</FixedResultPipe>
			<FixedResultPipe name="fwd2" returnString="fwd2: [result]" replaceFixedParams="true" >
				<param name="result" />
				<forward name="success" path="READY" /> 
			</FixedResultPipe>
			<FixedResultPipe name="fwd3" returnString="fwd3: [result]" replaceFixedParams="true" >
				<param name="result" />
				<forward name="success" path="READY" /> 
			</FixedResultPipe>
			<FixedResultPipe name="fwd200" returnString="fwd200: [result]" replaceFixedParams="true" >
				<param name="result" />
				<forward name="success" path="READY" /> 
			</FixedResultPipe>
			<FixedResultPipe name="fwd400" returnString="fwd400: [result]" replaceFixedParams="true" >
				<param name="result" />
				<forward name="success" path="READY" /> 
			</FixedResultPipe>
		</pipeline>
	</adapter>


	<adapter name="ForwardNameSelectable Child Adapter" >
		<receiver>
			<listener className="nl.nn.adapterframework.receivers.JavaListener" name="ibis4test-ForwardNameSelectable-Child" />
		</receiver>
		<pipeline>
			<exits>
				<exit name="READY" state="success"/>
				<exit name="Exit1" state="success"/>
				<exit name="Exit2" state="success" code="200" />
				<exit name="Exit3" state="success" code="400" />
			</exits>
			<XmlSwitchPipe name="exitSelector" xpathExpression="*/@exit" />
			
			<FixedResultPipe name="default" returnString="default" >
				<forward name="success" path="READY"/>
			</FixedResultPipe>
			<FixedResultPipe name="Pipe1" returnString="Pipe 1" >
				<forward name="success" path="Exit1" />
			</FixedResultPipe>
			<FixedResultPipe name="Pipe2" returnString="Pipe 2" >
				<forward name="success" path="Exit2" />
			</FixedResultPipe>
			<FixedResultPipe name="Pipe3" returnString="Pipe 3" >
				<forward name="success" path="Exit3" />
			</FixedResultPipe>
		</pipeline>
	</adapter>
	
</module>