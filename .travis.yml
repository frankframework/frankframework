language: java
jdk:
  - openjdk6

# Skip separate install phase as for some reason running the two default phases
# on Travis seem to cause the second phases to select the wrong profile
# (doesn't happen locally when running the exact same commands). And with maven
# it's not needed to have a separate install phase.
# Default install phase: mvn install -DskipTests=true -B
# Default script phase: mvn test -B
install: echo 'Skipping separate install phase'
script: mvn install -B

notifications:
  email:
    - ibistravis@meeuw.org

addons:
  sauce_connect:
    username: "Baswat"
    access_key: "f9f06419-8d66-4aa5-9dce-b4336ad42c5a"
    
before_script:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - sleep 3 # give xvfb some time to start
  
before_install:
	- "/sbin/start-stop-daemon --start --quiet --pidfile /tmp/custom_xvfb_99.pid --make-pidfile --background --exec /usr/bin/Xvfb -- :99 -ac -screen 0 1280x1024x16"