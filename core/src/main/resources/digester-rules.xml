<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<digester-rules>
	<!-- Rules are parsed with the DigesterRuleParser. Objects will be created with the Spring Beans Factory. -->

	<rule pattern="IOS-Adaptering"/><!-- deprecated, use configuration or module instead -->
	<rule pattern="configuration"/>

	<rule pattern="*/include" factory="nl.nn.adapterframework.configuration.ConfigurationDigesterFactory" top="include"/>


	<rule pattern="*/jmsRealms" factory="nl.nn.adapterframework.configuration.JmsRealmsFactory"/>
	<rule pattern="*/jmsRealm" next="registerJmsRealm"/>

	<rule pattern="*/sapSystem" object="nl.nn.adapterframework.extensions.sap.SapSystem" top="registerItem"/>

	<rule pattern="*/adapter" next="registerAdapter"/>
	<rule pattern="*/pipeline" next="registerPipeLine"/>
	<rule pattern="*/errorMessageFormatter" next="setErrorMessageFormatter"/>

	<rule pattern="*/receiver" next="registerReceiver"/>
	<rule pattern="*/sender" next="setSender"/>
	<rule pattern="*/postboxSender" next="setSender"/>
	<rule pattern="*/listener" factory="nl.nn.adapterframework.configuration.ListenerFactory" next="setListener"/>
	<rule pattern="*/postboxListener" next="setListener"/>
	<rule pattern="*/errorSender" next="setErrorSender"/>
	<rule pattern="*/messageLog" next="setMessageLog"/>
	<rule pattern="*/inProcessStorage" next="setInProcessStorage"/>
	<rule pattern="*/errorStorage" next="setErrorStorage"/>
	<rule pattern="*/inputValidator" next="setInputValidator"/>
	<rule pattern="*/outputValidator" next="setOutputValidator"/>
	<rule pattern="*/inputWrapper" next="setInputWrapper"/>
	<rule pattern="*/outputWrapper" next="setOutputWrapper"/>

	<rule pattern="*/pipe" next="addPipe" paramtype="nl.nn.adapterframework.core.IPipe"/>

	<!-- forward element is on the pipeline / global-forward as well as on the pipe element -->
	<rule pattern="*/forward" next="registerForward"/>
	<rule pattern="*/child" next="registerChild"/>
	<rule pattern="*/pipeline/exits/exit" next="registerPipeLineExit"/>

	<rule pattern="*/scheduler/job" next="registerScheduledJob"/>
	<rule pattern="*/locker" next="setLocker"/>
	<rule pattern="*/param" next="addParameter" />
	<rule pattern="*/directoryCleaner" next="addDirectoryCleaner" />

	<!-- batch related rules -->
	<rule pattern="*/readerFactory" next="setReaderFactory"/>
	<rule pattern="*/manager" next="registerManager"/>
	<rule pattern="*/manager/flow" factory="nl.nn.adapterframework.configuration.RecordHandlingFlowFactory" next="addHandler"/>
	<rule pattern="*/recordHandler" next="registerRecordHandler"/>
	<rule pattern="*/resultHandler" next="registerResultHandler"/>


	<rule pattern="*/statisticsHandlers" next="registerStatisticsHandler"/>
	<rule pattern="*/statisticsHandler" next="registerStatisticsHandler"/>
	<rule pattern="*/cache" next="registerCache"/>
</digester-rules>
