graph
	d1e5((Receiver<br/>ApiListener)):::normal
	d1e12[[InputWrapper<br/>ApiSoapWrapperPipe]]:::normal
	d1e32[(Select_Document<br/>GenericMessageSendingPipe)]:::normal
	d1e44{{Is_Target_MetaData_Schema_Empty<br/>XmlIf}}:::normal
	d1e109[/Get_Principal<br/>GetPrincipalPipe/]:::normal
	d1e114{{Check_If_Conversion_Finished<br/>XmlIf}}:::normal
	d1e121[/Find_Nested_Attachments<br/>IbisLocalSender\]:::normal
	d1e133[(Find_Retry_Actions<br/>GenericMessageSendingPipe)]:::normal
	d1e147((Call_DPDH<br/>IbisLocalSender)):::normal
	d1e175(Create_Response<br/>XsltPipe):::normal
	d1e207(error2json<br/>JsonPipe):::errorOutline
	d1e14-ServerError[[OutputWrapper<br/>ApiSoapWrapperPipe]]:::errorOutline
	d1e29((error<br/>500)):::errorOutline
	d1e186([xml2json<br/>Json2XmlValidator]):::normal
	d1e14-READY[[OutputWrapper<br/>ApiSoapWrapperPipe]]:::normal
	d1e18((success<br/>200)):::normal
	d1e193(Create_Response_Busy<br/>XsltPipe):::normal
	d1e200([xml2json_busy<br/>Json2XmlValidator]):::normal
	d1e52((Magdat<br/>IbisLocalSender)):::normal
	d1e64{{Magdat_Result_Check<br/>XmlIf}}:::normal
	d1e71{{Has_Security_Rules<br/>XmlIf}}:::normal
	d1e78(Extract_Security_Class_From_Metadata<br/>XsltPipe):::normal
	d1e85(Check_Security_Class_Against_Rules<br/>XsltPipe):::normal
	d1e98{{Check_Security_Class_Against_Rules_Result<br/>XmlIf}}:::normal
	d1e106[ExceptionPipe<br/>ExceptionPipe]:::errorOutline
	d1e14-NotAllowed[[OutputWrapper<br/>ApiSoapWrapperPipe]]:::normal
	d1e26((error<br/>403)):::normal
	classDef normal fill:#fff,stroke-width:4px,stroke:#8bc34a;
	classDef errorOutline fill:#fff,stroke-width:4px,stroke:#ec4758;
	d1e5 --> |success| d1e12
	d1e12 --> |success| d1e32
	d1e32 --> |success| d1e44
	d1e32 --> |exception<br/>ServerError| d1e14-ServerError
	d1e44 --> |then| d1e109
	d1e44 --> |else| d1e52
	d1e109 --> |success| d1e114
	d1e114 --> |then| d1e121
	d1e114 --> |else| d1e193
	d1e121 --> |success| d1e133
	d1e121 --> |exception<br/>READY| d1e14-READY
	d1e133 --> |success| d1e147
	d1e133 --> |exception<br/>ServerError| d1e14-ServerError
	d1e147 --> |success| d1e175
	d1e147 --> |exception<br/>ServerError| d1e14-ServerError
	d1e175 --> |exception| d1e207
	d1e175 --> |success| d1e186
	d1e207 --> |success<br/>ServerError| d1e14-ServerError
	d1e207 --> |failure<br/>ServerError| d1e14-ServerError
	d1e14-ServerError --> |success<br/>ServerError| d1e29
	d1e186 --> |success<br/>READY| d1e14-READY
	d1e186 --> |failure| d1e207
	d1e14-READY --> |success<br/>READY| d1e18
	d1e193 --> |exception| d1e207
	d1e193 --> |success| d1e200
	d1e200 --> |success<br/>READY| d1e14-READY
	d1e200 --> |failure| d1e207
	d1e52 --> |success| d1e64
	d1e64 --> |then| d1e71
	d1e64 --> |else<br/>NotAllowed| d1e14-NotAllowed
	d1e71 --> |then| d1e78
	d1e71 --> |else| d1e114
	d1e78 --> |exception| d1e207
	d1e78 --> |success| d1e85
	d1e85 --> |exception| d1e207
	d1e85 --> |success| d1e98
	d1e98 --> |then| d1e114
	d1e98 --> |else| d1e106
	d1e106 --> |success| d1e109
	d1e14-NotAllowed --> |success<br/>NotAllowed| d1e26
	linkStyle 0,1,2,4,5,6,7,8,9,11,13,16,20,22,24,25,27,28,29,30,31,33,35,36,39 stroke:#8bc34a,stroke-width:3px,fill:none;
	linkStyle 3,10,12,14,15,17,18,19,21,23,26,32,34,37,38 stroke:#ec4758,stroke-width:3px,fill:none;
