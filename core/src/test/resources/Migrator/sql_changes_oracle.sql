CREATE TABLE TESTIAF_USER.DATABASECHANGELOGLOCK (ID INTEGER NOT NULL, LOCKED NUMBER(1) NOT NULL, LOCKGRANTED TIMESTAMP, LOCKEDBY VARCHAR2(255), CONSTRAINT PK_DATABASECHANGELOGLOCK PRIMARY KEY (ID));
DELETE FROM TESTIAF_USER.DATABASECHANGELOGLOCK;
INSERT INTO TESTIAF_USER.DATABASECHANGELOGLOCK (ID, LOCKED) VALUES (1, 0);
UPDATE TESTIAF_USER.DATABASECHANGELOGLOCK SET LOCKED = 1, LOCKEDBY = 'IGNORE', LOCKGRANTED = 'IGNORE' WHERE ID = 1 AND LOCKED = 0;
CREATE TABLE TESTIAF_USER.DATABASECHANGELOG (ID VARCHAR2(255) NOT NULL, AUTHOR VARCHAR2(255) NOT NULL, FILENAME VARCHAR2(255) NOT NULL, DATEEXECUTED TIMESTAMP NOT NULL, ORDEREXECUTED INTEGER NOT NULL, EXECTYPE VARCHAR2(10) NOT NULL, MD5SUM VARCHAR2(35), DESCRIPTION VARCHAR2(255), COMMENTS VARCHAR2(255), TAG VARCHAR2(255), LIQUIBASE VARCHAR2(20), CONTEXTS VARCHAR2(255), LABELS VARCHAR2(255), DEPLOYMENT_ID VARCHAR2(10));
INSERT INTO DUMMYTABLE(TCHAR, TMESSAGE) VALUES ('C', 'MESSAGE');
INSERT INTO TESTIAF_USER.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('insert row', 'Ali Sihab Akcan', 'Migrator/DatabaseChangelog_inserts.xml', SYSTIMESTAMP, 1, 'CHANGESET-CHECKSUM', 'sql', '', 'EXECUTED', NULL, NULL, 'VERSION', 'IGNORE');
CREATE TABLE TESTIAF_USER.DUMMYTABLE (TKEY NUMBER(38, 0) GENERATED BY DEFAULT AS IDENTITY NOT NULL, TCHAR CHAR(1), TMESSAGE VARCHAR2(100), CONSTRAINT PK_DUMMYTABLE PRIMARY KEY (TKEY));
INSERT INTO TESTIAF_USER.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('one', 'Niels Meijer', 'Migrator/DatabaseChangelog_plus_changes.xml', SYSTIMESTAMP, 2, 'CHANGESET-CHECKSUM', 'createTable tableName=DUMMYTABLE', 'Create DUMMYTABLE', 'EXECUTED', NULL, NULL, 'VERSION', 'IGNORE');
DROP TABLE TESTIAF_USER.DUMMYTABLE CASCADE CONSTRAINTS;
INSERT INTO TESTIAF_USER.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID) VALUES ('two', 'Niels Meijer', 'Migrator/DatabaseChangelog_plus_changes.xml', SYSTIMESTAMP, 3, 'CHANGESET-CHECKSUM', 'dropTable tableName=DUMMYTABLE', 'Drop DUMMYTABLE', 'EXECUTED', NULL, NULL, 'VERSION', 'IGNORE');
INSERT INTO TESTIAF_USER.DATABASECHANGELOG (ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, MD5SUM, DESCRIPTION, COMMENTS, EXECTYPE, CONTEXTS, LABELS, LIQUIBASE, DEPLOYMENT_ID, TAG) VALUES ('three', 'Niels Meijer', 'Migrator/DatabaseChangelog_plus_changes.xml', SYSTIMESTAMP, 4, 'CHANGESET-CHECKSUM', 'tagDatabase', '', 'EXECUTED', NULL, NULL, 'VERSION', 'IGNORE', 'tralala');
UPDATE TESTIAF_USER.DATABASECHANGELOGLOCK SET LOCKED = 0, LOCKEDBY = NULL, LOCKGRANTED = NULL WHERE ID = 1;
