<div class="inmodal">
  <div class="modal-header">
    <h4 class="modal-title">Flow Diagram for [{{ flowName }}] ({{ zoom }})</h4>
  </div>
  <div class="modal-body text-center" [appZoomPan]="flowSvg" (newScale)="updateZoom($event)">
    <ng-mermaid
      [nmModel]="flow"
      [nmRefreshInterval]="500"
      [flowName]="flowName"
      (nmInitCallback)="mermaidLoaded($event)"
    ></ng-mermaid>
  </div>

  <div class="modal-footer">
    @if (showActionButtons) {
      @if (errorActionMessage) {
        <span class="error-message">{{ errorActionMessage }}</span>
      }
      @if (!isFirefox) {
        <button type="button" class="btn" (click)="openNewTab()">New tab</button>
      }
      <button type="button" class="btn" (click)="copyToClipboard($event)">Copy</button>
      <button type="button" class="btn" (click)="downloadAsPng($event)">Download</button>
    }
    <button type="button" class="btn btn-white" (click)="close()">Close</button>
  </div>
</div>
