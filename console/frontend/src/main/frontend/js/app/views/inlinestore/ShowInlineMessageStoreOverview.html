<!-- Angular ui-router hack-->
<div ui-view></div>

<div class="wrapper wrapper-content animated fadeInRight"
	ng-controller="InlineStoreOverviewCtrl">
	<div class="row">
		<div class="col-lg-12" ng-if="result">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h4>InlineStore Overview</h4>
				</div>
				<div class="ibox-content">
					<div class="col-md-12 table-responsive">
						<table class="table">
							<thead>
								<tr>
									<th>ProcessState</th>
									<th title="total number of messages for this ProcessState">#</th>
									<th>Adapter</th>
									<th>Receiver</th>
									<th title="number of messages">#</th>
								</tr>
							</thead>
							<tbody ng-repeat="(name, stateItem) in result" ng-if="stateItem.items.length > 0">
								<tr ng-repeat="item in stateItem.items" ng-init="innerIndex=$index">
									<td ng-if="$index===0" rowspan="0">{{name}}</td>
									<td ng-if="$index===0" rowspan="0">{{stateItem.totalMessageCount}}</td>
									<td>{{item.adapterName}}</td>
									<td>{{item.receiverName}}</td>
									<td>
										<span class="text-{{::getProcessStateIconColor(name)}}" title="Browse messages with ProcessState: {{::name}}">
											<button ui-sref="pages.storage.list({adapter: item.adapterName, storageSource: 'receivers', storageSourceName: item.receiverName, processState: name})" class="btn btn-xs btn-default m-l-xs" type="button">
												<i class="fa {{::getProcessStateIcon(name)}}"></i>
												({{item.messageCount}})
											</button>
										</span>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>